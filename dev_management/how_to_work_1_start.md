---
marp: true
paginate: true
---

# 程序员工作法-以终为始

**基于《10x程序员工作法》的笔记**

---

<style scoped>
section {
    font-size: 20px;
}
</style>

- [程序员工作法-以终为始](#程序员工作法-以终为始)
    - [以终为始，努力不会白费](#以终为始努力不会白费)
    - [DoD 完成的定义](#dod-完成的定义)
    - [接到任务后先做什么-确认需求及其验收标准](#接到任务后先做什么-确认需求及其验收标准)
    - [持续集成](#持续集成)
    - [产品的不确定的需求](#产品的不确定的需求)
        - [精益创业](#精益创业)
    - [跳出程序员的身份](#跳出程序员的身份)
    - [事前先推演](#事前先推演)
    - [工作可以用数字衡量吗？](#工作可以用数字衡量吗)
    - [启动开发前，应该准备些什么（迭代0）](#启动开发前应该准备些什么迭代0)
        - [需求](#需求)
        - [技术方面](#技术方面)
        - [发布准备](#发布准备)
        - [总结](#总结)
    - [管理上级](#管理上级)
        - [管理上级预期](#管理上级预期)
        - [帮助上级丰富知识](#帮助上级丰富知识)
        - [说出你的想法](#说出你的想法)

---

## 以终为始，努力不会白费

- 在做事情前，要先考虑结果，根据结果来确定要做的事情。
- 搞清楚需求，写出文档，再与客户确认，最后才去写代码。
- 提前考虑一些后面的工作，可以提前识别风险避免在最后阶段手忙脚乱。

---

## DoD 完成的定义

**在做任何事之前，先定义完成的标准。**

- 在团队开始之前就确定 DoD 也就是“完成定义”
    - 特性开发完成，表示开发人员经过了需求澄清、功能设计、编写代码、单元测试，通过了测试人员的验收，确保代码处于一个可部署的状态，相关文档已经编写完毕。
    - 开发完成，表示开发人员编写好功能代码，编写好单元测试代码，编写好集成测试代码，测试可以通过，代码通过了代码风格检查、测试覆盖率检查。
- DoD 是一个清单，清单是由一个个的检查项组成的，用来检查我们的工作完成情况。
- DoD 的检查项应该是实际可检查的。
- DoD 是团队成员间彼此汇报的一种机制。

---

## 接到任务后先做什么-确认需求及其验收标准

首选要确认需求，检查需求分析是否完备，任务范围是否明确。需求一般使用用户故事，用户故事包括：

- 标题：简要描述功能的主要内容
- 概述：As a （Role）, I want to （Activity）, so that （Business Value）
- 详述：详细描述这个用户故事的完成流程，包括操作流程、界面等信息。正向和反向的用例和超出范围的部分。
- 验收标准：这是最重要的部分，包含正常场景和异常场景
    - 验收标准中异常流程是非常重要的
    - 验收标准给出了这个需求最基本的测试用例，它保证了开发人员完成需求最基本的质量

---

## 持续集成

- 程序员的交付物并不应该是代码，而是一个可工作的软件。
- 一个好的做法是尽早把代码和已有代码集成到一起，而不应该等着所有代码都开发完了，再去做提交。

---

## 产品的不确定的需求

**默认所有需求都不做，直到弄清楚为什么要做这件事。**

- 我们必须要有自己的独立思考，多问几个为什么，尽可能减少掉到“坑”里之后再求救的次数。
- 考虑产品的时候要以终为始，这个产品会给谁用，在什么场景下怎么用呢？

---

<style scoped>
section {
    font-size: 24px;
}
</style>

### 精益创业

- 它要解决的是面向不确定性创造新事物。
- 精益创业就是在尽可能少浪费的前提下，面向不确定性创造新事物。
- 既然是不确定的，那唯一能做的就是“试”。
- 精益创业的方法论里，提出“开发（build）- 测量（measure）- 认知（learn）”这样一个反馈循环。就把想法开发成产品（code）投入市场，然后，收集数据（data）获取反馈，看看前面的想法是不是靠谱。
- 试错过程中尽量以低成本来试，也就是做一个最小可行产品 MVP。

**精益创业提供给我们的是一个做产品的思考框架，我们能够接触到的大多数产品都可以放在这个框架内思考。**

在做产品的时候，需要通过“精益创业”的方法验证一下，问一下产品经理：

- 要做这个产品特性，你要验证的东西是什么呢？
- 他要验证的目标是否有数据可以度量呢？
- 要解决的这个问题是不是当前最重要的事情，是否还有其他更重要的问题呢？
- 如果都很清楚，最后确认是不是要通过开发一个产品特性来实现呢？

---

## 跳出程序员的身份

**扩大自己工作的上下文，别把自己局限在一个“程序员”的角色上。**

- 不同角色工作上真正的差异是上下文的不同。
    - 有些人是树木有些人是树林，看到树林的人更能从全局思考问题。
    - 有些人是功能，有些人是组内协调。有些人是跨项目或跨部门协调，他们要考虑的就是自己项目和其他项目之间的互动。
- 有时候不需要通过技术解决问题，而可以根据需求了解来绕过问题。因为有些问题在更高层面上来看，根本就不是问题。这也是很多程序员的盲区。
- 当你对软件开发的全生命周期都有了认识之后，你看到的就不再是一个点了，而是一条线。
- 突破只愿意思考技术的限制，从代码中走出来，尽量扩大自己思考的边界。

---

## 事前先推演

**为避免后续工作和上线手忙脚乱，在动手做一件事之前，先推演一番。**

- 先从结果的角度入手，看看最终上线要考虑哪些因素。
- 推演出一个可以一步一步执行的上线方案，用前面考虑到的因素作为衡量指标。
- 根据推演出来的上线方案，总结要做的任务。

> 结果很重要，但是通向结果的路径才是更重要的。

- 我们的工作，多数情况下，即便目标清晰，路径却是模糊的。
- 在军事上，人们将事前推演称为沙盘推演，或沙盘模拟。军队通过沙盘模拟军事双方的对战过程，发现战略战术上存在的问题。

---

## 工作可以用数字衡量吗？

**问一下自己，我的工作是不是可以用数字衡量。**

- 而当事情复杂到一定程度时，简单地靠感觉是很难让人相信的。
- 应该在着手做一件事之前，先来想怎么去测量。
- 度量时可以通过从外部和内部进行度量，对比其差异，某些情况下可以找到问题。
- 团队如果习惯了“给个数字看看”这样的沟通方式，内部扯皮也会相应地减少一些。
- 如果我们习惯了用数字去思考，就可以在很多方面让数字帮助我们。

---

## 启动开发前，应该准备些什么（迭代0）

**设计迭代 0 清单，给项目做体检。**

---

### 需求

**细化迭代 1 的需求，设计用户界面和用户交互**

- 哪些需求先做、哪些需求后做，这是我们必须做的决策。迭代 0 需要做的事，就是把悬在空中的内容落到地上。
- 根据 MVP 确定优先级，挑出迭代 1 要开发和验证的需求。
- 细化迭代 1 的需求到可执行的程度，关键是把验收标准定义清楚。
- 有用户界面的话，在迭代 0 中要给出用户界面和用户交互的内容。

---

### 技术方面

- 要确定技术选型，确定基本的技术架构，确定数据库表结构等
- 持续集成
    - 构建脚本
    - 构建工程、代码风格和各种 lint 检查、测试覆盖率检查等。
    - 构建失败的监控
- 测试
    - 单元测试
    - 集成测试
    - e2e 测试（利用 BDD 等框架构建）
    - 加入构建脚本

---

### 发布准备

- 数据库迁移
    - 管理数据库变更
    - 讲数据库变更用文件管理起来，这样就可以放到版本控制工具里面进行管理了
- 发布
    - 把发布或部署过程自动化，以后就会轻松很多
    - 根据部署方式不同，准备 Dockerfile 或 Shell 脚本

以上的工作即便迭代 0 不做，在项目各个阶段也都会碰到。而且即便迭代 0 做好了，后续依然要不断调整。但是也最好在迭代 0 把这些事情做好，给项目定下一个自动化的基调。

---

<style scoped>
section {
    font-size: 16px;
}
</style>

### 总结

通过以下清单检查项目

| 类别     | 检查项目            |
| -------- | ------------------- |
| 功能     | 细化过的迭代 1 需求 |
| 交互     | 用户界面            |
| 交互     | 用户交互            |
| 基础     | 技术选型            |
| 基础     | 技术架构            |
| 数据库   | 数据库表结构        |
| 数据库   | 数据库迁移          |
| 持续集成 | 持续集成服务器      |
| 持续集成 | 持续集成监视器      |
| 持续集成 | 构建脚本            |
| 测试     | 单元测试和集成测试  |
| 测试     | 端到端测试          |
| 发布     | 发布脚本            |



---

## 管理上级

### 管理上级预期

- 上级也是人，一样有着长处和短处。我们应该发挥其长处，减少其短处带来的不良影响。管理上级，也就是要发挥上级的长处，不能唯命是从，应该从正确的事情入手，以上级能够接受的方式向其提出建议。
- 对于上级不应该无限妥协，因为人的欲望是无限的，所以，就不要让上级有错误的预期。
- 对于需要压缩时间，应该给出压缩后的影响是什么，需要放弃哪些东西。或者给出一个快速上线的临时方案，并说明后续的将代码回归到正常状态的后续任务。
- 把看到的问题暴露给上级，让他选择。上级会根据更多的上下文，平衡该做的事情。

---

### 帮助上级丰富知识

- 不是所有上级都是经验丰富的
- 在他做的不够好的领域，应该帮助他了解

---

### 说出你的想法

对于自己想做的事情，应该说出自己的想法。在上级分配工作的时候，他就会多想想如何分配。
